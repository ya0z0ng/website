---
import Layout from "./Layout.astro";
---

<Layout>
    <aside class="max-labtop:backdrop">
        <input type="checkbox" id="menu" hidden />
        <section>
            <div class="menu">
                <a href="#">logo</a>
                <label for="menu">
                    <svg width="18" height="18" viewBox="0 0 18 18">
                        <polyline
                            fill="none"
                            stroke="currentColor"
                            stroke-width="1.2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            points="2 12, 16 12"
                        >
                            <animate
                                id="globalnav-anim-menutrigger-bread-bottom-open"
                                attributeName="points"
                                keyTimes="0;0.5;1"
                                dur="0.24s"
                                begin="indefinite"
                                fill="freeze"
                                calcMode="spline"
                                keySplines="0.42, 0, 1, 1;0, 0, 0.58, 1"
                                values=" 2 12, 16 12; 2 9, 16 9; 3.5 15, 15 3.5"
                            ></animate><animate
                                id="globalnav-anim-menutrigger-bread-bottom-close"
                                attributeName="points"
                                keyTimes="0;0.5;1"
                                dur="0.24s"
                                begin="indefinite"
                                fill="freeze"
                                calcMode="spline"
                                keySplines="0.42, 0, 1, 1;0, 0, 0.58, 1"
                                values=" 3.5 15, 15 3.5; 2 9, 16 9; 2 12, 16 12"
                            ></animate></polyline
                        ><polyline
                            id="globalnav-menutrigger-bread-top"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="1.2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            points="2 5, 16 5"
                            class="globalnav-menutrigger-bread globalnav-menutrigger-bread-top"
                            ><animate
                                id="globalnav-anim-menutrigger-bread-top-open"
                                attributeName="points"
                                keyTimes="0;0.5;1"
                                dur="0.24s"
                                begin="indefinite"
                                fill="freeze"
                                calcMode="spline"
                                keySplines="0.42, 0, 1, 1;0, 0, 0.58, 1"
                                values=" 2 5, 16 5; 2 9, 16 9; 3.5 3.5, 15 15"
                            ></animate><animate
                                id="globalnav-anim-menutrigger-bread-top-close"
                                attributeName="points"
                                keyTimes="0;0.5;1"
                                dur="0.24s"
                                begin="indefinite"
                                fill="freeze"
                                calcMode="spline"
                                keySplines="0.42, 0, 1, 1;0, 0, 0.58, 1"
                                values=" 3.5 3.5, 15 15; 2 9, 16 9; 2 5, 16 5"
                            ></animate>
                        </polyline>
                    </svg>
                </label>
            </div>
            <nav>
                <header class="flex items-center">
                    <label for="search">
                        <span>
                            <svg
                                height="32"
                                viewBox="0 0 30 32"
                                width="30"
                                xmlns="http://www.w3.org/2000/svg"
                                ><path
                                    d="m23.3291 23.3066-4.35-4.35c-.0105-.0105-.0247-.0136-.0355-.0235a6.8714 6.8714 0 1 0 -1.5736 1.4969c.0214.0256.03.0575.0542.0815l4.35 4.35a1.1 1.1 0 1 0 1.5557-1.5547zm-15.4507-8.582a5.6031 5.6031 0 1 1 5.603 5.61 5.613 5.613 0 0 1 -5.603-5.61z"
                                ></path>
                            </svg>
                        </span>
                        <input type="text" aria-label="search" id="search" />
                    </label>
                    <button class="cursor-pointer">
                        <svg
                            height="44"
                            viewBox="0 0 14 44"
                            width="14"
                            xmlns="http://www.w3.org/2000/svg"
                            ><path
                                d="m11.3535 16.0283h-1.0205a3.4229 3.4229 0 0 0 -3.333-2.9648 3.4229 3.4229 0 0 0 -3.333 2.9648h-1.02a2.1184 2.1184 0 0 0 -2.117 2.1162v7.7155a2.1186 2.1186 0 0 0 2.1162 2.1167h8.707a2.1186 2.1186 0 0 0 2.1168-2.1167v-7.7155a2.1184 2.1184 0 0 0 -2.1165-2.1162zm-4.3535-1.8652a2.3169 2.3169 0 0 1 2.2222 1.8652h-4.4444a2.3169 2.3169 0 0 1 2.2222-1.8652zm5.37 11.6969a1.0182 1.0182 0 0 1 -1.0166 1.0171h-8.7069a1.0182 1.0182 0 0 1 -1.0165-1.0171v-7.7155a1.0178 1.0178 0 0 1 1.0166-1.0166h8.707a1.0178 1.0178 0 0 1 1.0164 1.0166z"
                            ></path>
                        </svg>
                    </button>
                </header>
                <slot name="sidebar" />
                <footer>
                    <span
                        >Copyright Â© 2025 BMeInS Inc. All rights reserved.</span
                    >
                    <ul>
                        <li>
                            <a href="#">Privacy Policy</a>
                        </li>
                        <li>
                            <a href="#">Terms of Use</a>
                        </li>
                        <li>
                            <a href="#">Sales Policy</a>
                        </li>
                        <li>
                            <a href="#">Legal</a>
                        </li>
                        <li>
                            <a href="#">Site Map</a>
                        </li>
                    </ul>
                </footer>
            </nav>
        </section>
    </aside>
    <main><slot /></main>
</Layout>

<style lang="less" is:global>
    @reference "../styles/global.css";

    @sidebar-width: 382px;
    @sidebar-height: 48px;
    @mobile-breakpoint: 825px;
    @global-padding: 16px;

    :root {
        --color-black: #000000;
        --color-black2: #161617;
        --color-black3: #222224;
        --color-white: #ffffff;
        --color-white2: #fafafc;
        --color-white3: #f5f5f7;
        --dark-gray1: #1c2127;
        --dark-gray2: #252a31;
        --dark-gray3: #2f343c;
        --dark-gray4: #383e47;
        --dark-gray5: #404854;
        --gray1: #5f6b7c;
        --gray2: #738091;
        --gray3: #8f99a8;
        --gray4: #abb3bf;
        --gray5: #c5cbd3;
        --light-gray1: #d3d8de;
        --light-gray2: #dce0e5;
        --light-gray3: #e5e8eb;
        --light-gray4: #edeff2;
        --light-gray5: #f6f7f9;
        --color-blue1: #184a90;
        --color-blue2: #215db0;
        --color-blue3: #2d72d2;
        --color-blue4: #4c90f0;
        --color-blue5: #8abbff;
        --color-green1: #165a36;
        --color-green2: #1c6e42;
        --color-green3: #238551;
        --color-green4: #32a467;
        --color-green5: #72ca9b;
        --color-orange1: #77450d;
        --color-orange2: #935610;
        --color-orange3: #c87619;
        --color-orange4: #ec9a3c;
        --color-orange5: #fbb360;
        --color-red1: #8e292c;
        --color-red2: #ac2f33;
        --color-red3: #cd4246;
        --color-red4: #e76a6e;
        --color-red5: #fa999c;

        --length-sidebar-width: @sidebar-width;
        --length-mobile-max-width: @mobile-breakpoint;
        --length-global-padding: @global-padding;

        --backdrop-background: light-dark(
            var(--color-white),
            var(--dark-gray3)
        );

        --icon-close: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3E%3Cpath fill=%27%23888%27 fill-rule=%27evenodd%27 d=%27M11.414 10l4.95-4.95a1 1 0 1 0-1.414-1.414L10 8.586 5.05 3.636a1 1 0 1 0-1.414 1.414L8.586 10l-4.95 4.95a1 1 0 1 0 1.414 1.414L10 11.414l4.95 4.95a1 1 0 0 0 1.414-1.414L11.414 10z%27 clip-rule=%27evenodd%27/%3E%3C/svg%3E");
    }

    @media only screen and (max-width: @mobile-breakpoint) {
        body {
            & > aside {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                .menu {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    height: @sidebar-height;

                    & > label[for="menu"] {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        width: @sidebar-height;
                        height: @sidebar-height;
                    }
                }
                & > input[type="checkbox"] {
                    & + section {
                        nav {
                            display: none;
                            visibility: hidden;
                        }
                    }
                    &:checked {
                        & + section {
                            nav {
                                display: flex;
                                visibility: visible;
                                width: 100%;
                                height: calc(100dvh - @sidebar-height);
                                overflow-y: auto;
                                z-index: 1000;
                            }
                        }
                    }
                }
                & > nav {
                    // visibility: hidden;
                }
            }

            & > main {
                margin-top: @sidebar-height;
                padding: @global-padding;
            }
        }
    }

    @media only screen and (min-width: @mobile-breakpoint) {
        _::-webkit-full-page-media,
        _:future,
        html {
            background: linear-gradient(
                90deg,
                var(--color-primary) @sidebar-width,
                var(--color-thirdary) @sidebar-width
            );
        }

        body {
            width: 100%;
            min-height: 100dvh;

            & > aside {
                position: fixed;
                width: @sidebar-width;
                height: 100dvh;
                background-color: var(--color-primary);

                section {
                    height: 100%;
                    .menu {
                        display: none;
                        visibility: hidden;
                    }
                }
            }

            & > main {
                position: relative;
                margin-left: @sidebar-width;
                padding: @global-padding;
            }
        }
    }

    html {
        background-color: var(--color-thirdary);
    }

    body {
        footer {
            font-size: 12px;
            border-top: 1px solid
                light-dark(var(--light-gray3), var(--dark-gray4));
            padding-top: 10px;
            span {
                color: var(--color-sub-primary);
            }
            ul {
                display: inline-flex;
                gap: 8px;
                & > li {
                    display: inline;
                }
            }
        }
        & > aside {
            user-select: none;
            nav {
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                padding: @global-padding;
                gap: @global-padding;

                & > *:not(footer):not(header) {
                    flex-grow: 1;
                }

                header {
                    button {
                        margin-right: calc(-1 * @global-padding);
                        & > svg {
                            width: 44px;
                            padding: 0 15px;
                            fill: light-dark(
                                var(--color-black),
                                var(--color-white)
                            );
                        }
                    }
                    svg {
                        // fill: light-dark(var(--gray3), var(--gray5));
                    }
                    label {
                        display: flex;
                        align-items: center;
                        width: 100%;
                        background: light-dark(
                            var(--light-gray4),
                            var(--dark-gray4)
                        );
                        border-radius: 6px;
                        padding-left: 8px;
                        span {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            width: 24px;
                            height: 24px;
                            & > svg {
                                fill: var(--color-sub-primary);
                            }
                        }
                        input[type="text"] {
                            flex-grow: 1;
                            height: 32px;
                            border: none;
                            padding: 0 8px;
                            font-size: 14px;
                            color: light-dark(
                                var(--color-black),
                                var(--light-gray1)
                            );
                            &::placeholder {
                                color: light-dark(var(--gray3), var(--gray5));
                            }
                            &:focus {
                                outline: none;
                            }
                        }
                    }
                }
            }
        }
    }

    h2 {
        font-size: 20px;
    }
</style>
